<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administración de Inventarios</title>
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial; margin:0; padding:2rem; background:#0b1020; color:#e6edf3; }
        .card { background:#11162a; border:1px solid #2a3553; border-radius:12px; padding:1.5rem; max-width:960px; margin:2rem auto; box-shadow:0 6px 24px rgba(0,0,0,.35); }
        h1 { margin:0 0 1rem 0; font-size:1.6rem; }
        .muted { color:#9fb0c5; }
        .actions { margin-top:1rem; display:flex; gap:.5rem; }
        a.btn { background:#2e7dff; color:white; padding:.6rem 1rem; border-radius:8px; text-decoration:none; font-weight:700; }
        a.btn:hover { filter:brightness(1.1); }
        table { width:100%; border-collapse: collapse; margin-top:1rem; }
        th, td { padding:.6rem .8rem; border-bottom:1px solid #2a3553; text-align:left; }
        th { color:#9fb0c5; font-weight:600; }
        .btn-acciones {
            font-size: 10px;
            font-weight: 400;
        }
        button.btn {
            background: #2e7dff;
            color: white;
            padding: .6rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            border: none;
            cursor: pointer;
        }
        button.btn:hover {
            filter: brightness(1.1);
        }
        .msg { margin-top:1rem; padding:.6rem .8rem; border-radius:8px; margin-bottom:1rem; }
        .error { background:#331a20; border:1px solid #7a2f3b; color:#ffd7de; }
        .ok { background:#15351f; border:1px solid #2f7a46; color:#c7ffd9; }
    </style>
</head>
<body>
<div class="card">
    <h1>Administración de Inventario</h1>

    <!-- Mensajes de confirmación -->
    <div th:if="${mensaje}" class="msg" th:classappend="${tipo == 'success' ? 'ok' : 'error'}" style="display:block;">
        <span th:text="${mensaje}"></span>
    </div>

    <div class="actions">
        <a class="btn" href="/">Volver</a>
        <a class="btn" href="/inventario/crear">Crear Inventario</a>
    </div>

    <table>
        <thead>
        <tr>
            <th>Categoria</th>
            <th>Descripcion</th>
            <th>Cantidad</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
            <tr th:each="inventario : ${listaInventario}">
                <td th:text="${inventario.categoria}">Categoria</td>
                <td th:text="${inventario.descripcion}">Descripcion</td>
                <td th:text="${inventario.cantidad}">Cantidad</td>
                <td>
                    <div class="acciones">
                        <a class="btn btn-acciones" th:href="@{/inventario/modificar/{id}(id=${inventario.id})}">Modificar</a>
                        <form style="display:inline;" th:action="@{/inventario/eliminar/{id}(id=${inventario.id})}" method="post" 
                              th:onsubmit="'return confirm(\'¿Estás seguro de que deseas eliminar este inventario?\');'">
                            <input type="hidden" name="_method" value="delete" />
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                            <button type="submit" class="btn btn-acciones">Eliminar</button>
                        </form>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</body>
</html>
